# 桶排序 Bucket Sort

捅排序也是一种线性排序方法. 它将元素分配到多个桶中, 然后对每个桶单独进行排序.

## 桶排序的步骤

1. 根据原数组中元素的数值范围, 将数组分成 `m` 个桶, 每个桶将存放一定数值区间的元素, 而且这些数值区间有序不重叠
2. 按顺序遍历数组, 将元素按数值大小放到目标桶中, 每个桶会存放相近或者相同的元素
3. 使用插入排序等算法对每个桶排序
4. 按照桶的顺序, 将每个桶中的元素依次存储到原数组

## 桶排序的实现

```rust
{{#include assets/bucket_sort.rs:8:46}}

{{#include assets/insertion_sort.rs:5:20}}
```

## 桶排序的特点

- 如果给每个桶做排序是的算法是稳定排序的, 那么桶排序算法就是稳定排序
- 时间复杂度是 `O(n)`, 空间复杂度是 `O(n + m)`
- 比快速排序还要快

## 使用希尔排序

上面的代码中, 我们使用插入排序来给每个桶排序, 这次我们换成希尔排序.
后者可以支持排序更多的元素, 依然保持较好的性能.

```rust
{{#include assets/bucket_sort.rs:48:74}}

{{#include assets/shell_sort.rs:5:34}}
```